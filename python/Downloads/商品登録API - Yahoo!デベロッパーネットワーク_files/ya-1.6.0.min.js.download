!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ya=t():e.ya=t()}("undefined"!=typeof self?self:this,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=11)}([function(e,t,n){"undefined"!=typeof self&&self,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return Object.prototype.toString.call(e).slice(8,-1)}function i(e,t){return null!=t&&o(t)===e}function u(e){return i("Object",e)}function a(e){return i("Array",e)}function l(e){return i("String",e)}function s(e){return Math.abs(e)===1/0}function f(e){return i("Number",e)&&!y(e)&&!s(e)}function c(e){return i("Boolean",e)}function d(e){return i("Map",e)}function g(e){return null===e}function p(e){return void 0===e}function y(e){return!("object"!==r(e)||!i("Number",e)||!isNaN(e))||i("Number",e)&&e!=e}function v(e){return""+e}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return f(e=Number(e))?e:t}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(e=h(e,t))===t?e:parseInt(e)}function b(e){var t=e.split("#")[0].split("?");return 1===t.length?null:t.slice(1).join("?")}Object.defineProperty(t,"__esModule",{value:!0}),t.default={getType:o,is:i,isObject:u,isArray:a,isString:l,isNumber:f,isBoolean:c,isMap:d,isPrimitive:function(e){return f(e)||l(e)||c(e)},isFunction:function(e){return i("Function",e)},isNull:g,isNaN:y,isUndefined:p,findKey:function(e,t){return i("Object",e)&&Object.prototype.hasOwnProperty.call(e,t)},isUUID:function(e){return null!==e.match(/^[\da-fA-F]{8}-[\da-fA-F]{4}-[\da-fA-F]{4}-[\da-fA-F]{4}-[\da-fA-F]{12}$/)},deepCopy:function(e){return JSON.parse(JSON.stringify(e))},merge:function(){for(var e=arguments,t=arguments.length,n={},r=function(t){var r=t<0||e.length<=t?void 0:e[t];Object.keys(r).forEach((function(e){n[e]=r[e]}))},o=0;o<t;o++)r(o);return n},getTime:function(){return(new Date).getTime()},normalizeToString:v,normalizeToNumber:h,normalizeToInt:m,normalizeToUnsignedInt:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(e=m(e,t))===t||e>=0?e:t},isEmpty:function(e){return!!(g(e)||p(e)||y(e))||(l(e)?""===e:f(e)||s(e)?0===e:u(e)?0===Object.keys(e).length:a(e)?0===e.length:!!d(e)&&0===e.size)},snakeToLCC:function(e){return(e=v(e).replace(/_+([a-z])/g,(function(e,t){return t.toUpperCase()}))).charAt(0).toLowerCase()+e.slice(1)},urlQueryBuild:function(e){return Object.keys(e).map((function(t){return[t,e[t]].map(v).map(encodeURIComponent).join("=")})).join("&")},urlQueryString:b,urlQueryParse:function(e){return b("?".concat(e)).split("&").reduce((function(e,t){var n=t.split("=");return 2===n.length&&(e[n[0]]=n[1]),e}),{})}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(2));t.CLog=o.default;var i=r(n(0));t.Util=i.default;var u=r(n(3));t.Browser=u.default},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(0));function u(){return["Object","Console"].indexOf(i.default.getType(console))>=0?console:{}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,(n=[{key:"debug",value:function(){var t=u();if(this.logLevel>=e.DEBUG){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];i.default.isFunction(t.debug)?this.printLog(t.debug,r):i.default.isFunction(t.log)&&(r.unshift("[DEBUG]"),this.printLog(t.log,r))}}},{key:"info",value:function(){var t=u();if(this.logLevel>=e.INFO){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];i.default.isFunction(t.info)?this.printLog(t.info,r):i.default.isFunction(t.log)&&(r.unshift("[INFO]"),this.printLog(t.log,r))}}},{key:"warning",value:function(){var t=u();if(this.logLevel>=e.WARNING){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];i.default.isFunction(t.warn)?this.printLog(t.warn,r):i.default.isFunction(t.log)&&(r.unshift("[WARN]"),this.printLog(t.log,r))}}},{key:"error",value:function(){var t=u();if(this.logLevel>=e.CRITICAL){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];i.default.isFunction(t.error)?this.printLog(t.error,r):i.default.isFunction(t.log)&&(r.unshift("[ERROR]"),this.printLog(t.log,r))}}},{key:"printLog",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],o=t[1],u=new Date;o.unshift("[".concat(u.toLocaleTimeString(),".").concat(u.getUTCMilliseconds(),"]")),i.default.isEmpty(this._prefix)||o.unshift(this._prefix),r.apply(console,o)}},{key:"NONE",get:function(){return 0}},{key:"CRITICAL",get:function(){return 1}},{key:"WARNING",get:function(){return 2}},{key:"INFO",get:function(){return 3}},{key:"DEBUG",get:function(){return 4}},{key:"prefix",set:function(e){this._prefix=e}},{key:"defaultLogLevel",get:function(){return this.CRITICAL}},{key:"logLevel",get:function(){return i.default.isNumber(this._logLevel)?this._logLevel:this.defaultLogLevel},set:function(e){i.default.isNumber(e)&&[0,1,2,3,4].indexOf(e)>=0&&(this._logLevel=e)}}])&&r(t,n),e}();t.default=a},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(0));t.default={generateMetrics:function(e,t){if("object"!==r(e))return null;var n={},o=e.line||e.lineNumber,u=e.column||e.columnNumber;n.ts=i.default.getTime(),e.name&&(n.name=e.name),e.message&&(n.message=e.message),e.stack&&(n.stack=e.stack),o&&(n.line=o),u&&(n.col=u);var a="undefined"!=typeof window?window:{};return"object"===r(a.performance)&&"object"===r(a.performance.timing)&&i.default.isNumber(a.performance.timing.navigationStart)&&(n.progress_time=n.ts-a.performance.timing.navigationStart),n.ex_base="",void 0!==a.location&&void 0!==a.location.href&&(n.url=a.location.href),i.default.isString(t)&&(n.label=t),n},createImageTag:function(e,t){if("undefined"!=typeof document){var n=document.createElement("img");i.default.isFunction(t)&&(n.onload=t),n.src=e}}}}])},function(e,t,n){var r,o;"undefined"!=typeof self&&self,e.exports=(r={514:function(e,t,n){"undefined"!=typeof self&&self,e.exports=function(){"use strict";var e={d:function(t,n){for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t={};e.d(t,{default:function(){return l}});var r,o=n(398),i=function(){function e(e){this.settings=e}return e.prototype.setAccessToken=function(e){this.settings.accessToken=e},e.prototype.setHost=function(e){this.settings.host=e},e.prototype.dispatch=function(e){var t=this.settings,n={tk:t.userId,p:t.project,d:t.dataset};t.accessToken&&(n.access_token=t.accessToken);var r=o.Util.merge(n,e),i=this.buildUrl(t.host,r);o.Browser.createImageTag(i,null)},e.prototype.buildUrl=function(e,t){return"https://"+e+"/api/v1/clear.gif?"+o.Util.urlQueryBuild(t)},e}(),u=function(){function e(){}return e.getDefaultHost=function(e){var t="dsb.yahoo.co.jp",n=void 0!==e?e.document:{},r=o.Util.getType(n);return/^(HTML)?Document$/.test(r)?new RegExp("yahoo.co.jp$").test(n.location.hostname)?t:"dsb.yahooapis.jp":t},e}().getDefaultHost(window);!function(e){e.DEBUG="debug",e.EXCEPTION="exception"}(r||(r={}));var a=function(){function e(e){var t,n,r,o,i;this.pageSession=null!==(t=null==e?void 0:e.pageSession)&&void 0!==t?t:"",this.sdkName=null!==(n=null==e?void 0:e.coreName)&&void 0!==n?n:"",this.sdkVersion=null!==(r=null==e?void 0:e.coreVersion)&&void 0!==r?r:"",this.extensionName=null!==(o=null==e?void 0:e.targetName)&&void 0!==o?o:"",this.extensionVersion=null!==(i=null==e?void 0:e.targetVersion)&&void 0!==i?i:""}return e.prototype.build=function(e){var t,n,r,o,i,u,a,l,s,f,c;return{log_type:null!==(t=null==e?void 0:e.type)&&void 0!==t?t:"",label:null!==(n=null==e?void 0:e.label)&&void 0!==n?n:"",ts:this.time(),name:null!==(o=null===(r=null==e?void 0:e.error)||void 0===r?void 0:r.name)&&void 0!==o?o:"",message:null!==(u=null===(i=null==e?void 0:e.error)||void 0===i?void 0:i.message)&&void 0!==u?u:"",stack:null!==(l=null===(a=null==e?void 0:e.error)||void 0===a?void 0:a.stack)&&void 0!==l?l:"",elapsed_time:this.elapsedTime(),url:this.url(),referrer:this.referrer(),page_session:this.pageSession,sdk:this.sdkName,sdk_ver:this.sdkVersion,extension:this.extensionName,extension_ver:this.extensionVersion,custom_1:null!==(s=null==e?void 0:e.custom1)&&void 0!==s?s:"",custom_2:null!==(f=null==e?void 0:e.custom2)&&void 0!==f?f:"",custom_3:null!==(c=null==e?void 0:e.custom3)&&void 0!==c?c:""}},e.prototype.time=function(){return o.Util.getTime()},e.prototype.elapsedTime=function(){return"undefined"==typeof performance?0:Math.floor(performance.now())},e.prototype.url=function(){return"undefined"==typeof document?"":document.URL},e.prototype.referrer=function(){return"undefined"==typeof document?"":document.referrer},e}(),l=function(){function e(e){var t,n={userId:"9225bd01-1ff0-4e57-9c92-6e831c45253a",project:"ds_logger",dataset:"ual_web_error",host:u},r={};n.host=null!==(t=null==e?void 0:e.host)&&void 0!==t?t:n.host,n.accessToken=null==e?void 0:e.accessToken,r.targetName=null==e?void 0:e.targetName,r.targetVersion=null==e?void 0:e.targetVersion,r.coreName=null==e?void 0:e.coreName,r.coreVersion=null==e?void 0:e.coreVersion,r.pageSession=null==e?void 0:e.pageSession,this.dispatcher=new i(n),this.builder=new a(r)}return e.prototype.setAccessToken=function(e){this.dispatcher.setAccessToken(e)},e.prototype.setHost=function(e){this.dispatcher.setHost(e)},e.prototype.debug=function(e){this.log(r.DEBUG,e)},e.prototype.exception=function(e,t){this.log(r.EXCEPTION,t,e)},e.prototype.log=function(e,t,n){var r={};r.type=e,r.label=null==t?void 0:t.label,r.custom1=null==t?void 0:t.custom1,r.custom2=null==t?void 0:t.custom2,r.custom3=null==t?void 0:t.custom3,r.error=n;var o=this.builder.build(r);this.dispatcher.dispatch(o)},e}();return t.default}()},398:function(e){"undefined"!=typeof self&&self,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return Object.prototype.toString.call(e).slice(8,-1)}function i(e,t){return null!=t&&o(t)===e}function u(e){return i("Object",e)}function a(e){return i("Array",e)}function l(e){return i("String",e)}function s(e){return Math.abs(e)===1/0}function f(e){return i("Number",e)&&!y(e)&&!s(e)}function c(e){return i("Boolean",e)}function d(e){return i("Map",e)}function g(e){return null===e}function p(e){return void 0===e}function y(e){return!("object"!==r(e)||!i("Number",e)||!isNaN(e))||i("Number",e)&&e!=e}function v(e){return""+e}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return f(e=Number(e))?e:t}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(e=h(e,t))===t?e:parseInt(e)}function b(e){var t=e.split("#")[0].split("?");return 1===t.length?null:t.slice(1).join("?")}Object.defineProperty(t,"__esModule",{value:!0}),t.default={getType:o,is:i,isObject:u,isArray:a,isString:l,isNumber:f,isBoolean:c,isMap:d,isPrimitive:function(e){return f(e)||l(e)||c(e)},isFunction:function(e){return i("Function",e)},isNull:g,isNaN:y,isUndefined:p,findKey:function(e,t){return i("Object",e)&&Object.prototype.hasOwnProperty.call(e,t)},isUUID:function(e){return null!==e.match(/^[\da-fA-F]{8}-[\da-fA-F]{4}-[\da-fA-F]{4}-[\da-fA-F]{4}-[\da-fA-F]{12}$/)},deepCopy:function(e){return JSON.parse(JSON.stringify(e))},merge:function(){for(var e=arguments,t=arguments.length,n={},r=function(t){var r=t<0||e.length<=t?void 0:e[t];Object.keys(r).forEach((function(e){n[e]=r[e]}))},o=0;o<t;o++)r(o);return n},getTime:function(){return(new Date).getTime()},normalizeToString:v,normalizeToNumber:h,normalizeToInt:m,normalizeToUnsignedInt:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(e=m(e,t))===t||e>=0?e:t},isEmpty:function(e){return!!(g(e)||p(e)||y(e))||(l(e)?""===e:f(e)||s(e)?0===e:u(e)?0===Object.keys(e).length:a(e)?0===e.length:!!d(e)&&0===e.size)},snakeToLCC:function(e){return(e=v(e).replace(/_+([a-z])/g,(function(e,t){return t.toUpperCase()}))).charAt(0).toLowerCase()+e.slice(1)},urlQueryBuild:function(e){return Object.keys(e).map((function(t){return[t,e[t]].map(v).map(encodeURIComponent).join("=")})).join("&")},urlQueryString:b,urlQueryParse:function(e){return b("?".concat(e)).split("&").reduce((function(e,t){var n=t.split("=");return 2===n.length&&(e[n[0]]=n[1]),e}),{})}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Browser=t.Util=t.CLog=void 0;var o=r(n(2));t.CLog=o.default;var i=r(n(0));t.Util=i.default;var u=r(n(3));t.Browser=u.default},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0));function i(){return["Object","Console"].indexOf(o.default.getType(console))>=0?console:{}}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t;return(t=[{key:"debug",value:function(){var t=i();if(this.logLevel>=e.DEBUG){for(var n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];o.default.isFunction(t.debug)?this.printLog(t.debug,r):o.default.isFunction(t.log)&&(r.unshift("[DEBUG]"),this.printLog(t.log,r))}}},{key:"info",value:function(){var t=i();if(this.logLevel>=e.INFO){for(var n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];o.default.isFunction(t.info)?this.printLog(t.info,r):o.default.isFunction(t.log)&&(r.unshift("[INFO]"),this.printLog(t.log,r))}}},{key:"warning",value:function(){var t=i();if(this.logLevel>=e.WARNING){for(var n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];o.default.isFunction(t.warn)?this.printLog(t.warn,r):o.default.isFunction(t.log)&&(r.unshift("[WARN]"),this.printLog(t.log,r))}}},{key:"error",value:function(){var t=i();if(this.logLevel>=e.CRITICAL){for(var n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];o.default.isFunction(t.error)?this.printLog(t.error,r):o.default.isFunction(t.log)&&(r.unshift("[ERROR]"),this.printLog(t.log,r))}}},{key:"printLog",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],u=new Date;i.unshift("[".concat(u.toLocaleTimeString(),".").concat(u.getUTCMilliseconds(),"]")),o.default.isEmpty(this._prefix)||i.unshift(this._prefix),r.apply(console,i)}},{key:"NONE",get:function(){return 0}},{key:"CRITICAL",get:function(){return 1}},{key:"WARNING",get:function(){return 2}},{key:"INFO",get:function(){return 3}},{key:"DEBUG",get:function(){return 4}},{key:"prefix",set:function(e){this._prefix=e}},{key:"defaultLogLevel",get:function(){return this.CRITICAL}},{key:"logLevel",get:function(){return o.default.isNumber(this._logLevel)?this._logLevel:this.defaultLogLevel},set:function(e){o.default.isNumber(e)&&[0,1,2,3,4].indexOf(e)>=0&&(this._logLevel=e)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e,t),e}();t.default=u},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(0));t.default={generateMetrics:function(e,t){if("object"!==r(e))return null;var n={},o=e.line||e.lineNumber,u=e.column||e.columnNumber;n.ts=i.default.getTime(),e.name&&(n.name=e.name),e.message&&(n.message=e.message),e.stack&&(n.stack=e.stack),o&&(n.line=o),u&&(n.col=u);var a="undefined"!=typeof window?window:{};return"object"===r(a.performance)&&"object"===r(a.performance.timing)&&i.default.isNumber(a.performance.timing.navigationStart)&&(n.progress_time=n.ts-a.performance.timing.navigationStart),n.ex_base="",void 0!==a.location&&void 0!==a.location.href&&(n.url=a.location.href),i.default.isString(t)&&(n.label=t),n},createImageTag:function(e,t){if("undefined"!=typeof document){var n=document.createElement("img");i.default.isFunction(t)&&(n.onload=t),n.src=e}}}}])},751:function(e){"undefined"!=typeof self&&self,e.exports=function(){"use strict";var e={825:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Browser=t.Util=t.CLog=void 0;var o=r(n(148));t.CLog=o.default;var i=r(n(109));t.Util=i.default;var u=r(n(387));t.Browser=u.default},387:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(109));t.default={generateMetrics:function(e,t){if("object"!==r(e))return null;var n={},o=e.line||e.lineNumber,u=e.column||e.columnNumber;n.ts=i.default.getTime(),e.name&&(n.name=e.name),e.message&&(n.message=e.message),e.stack&&(n.stack=e.stack),o&&(n.line=o),u&&(n.col=u);var a="undefined"!=typeof window?window:{};return"object"===r(a.performance)&&"object"===r(a.performance.timing)&&i.default.isNumber(a.performance.timing.navigationStart)&&(n.progress_time=n.ts-a.performance.timing.navigationStart),n.ex_base="",void 0!==a.location&&void 0!==a.location.href&&(n.url=a.location.href),i.default.isString(t)&&(n.label=t),n},createImageTag:function(e,t){if("undefined"!=typeof document){var n=document.createElement("img");i.default.isFunction(t)&&(n.onload=t),n.src=e}}}},148:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(109));function i(){return["Object","Console","console"].indexOf(o.default.getType(console))>=0?console:{}}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t;return(t=[{key:"debug",value:function(){var t=i();if(this.logLevel>=e.DEBUG){for(var n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];o.default.isFunction(t.debug)?this.printLog(t.debug,r):o.default.isFunction(t.log)&&(r.unshift("[DEBUG]"),this.printLog(t.log,r))}}},{key:"info",value:function(){var t=i();if(this.logLevel>=e.INFO){for(var n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];o.default.isFunction(t.info)?this.printLog(t.info,r):o.default.isFunction(t.log)&&(r.unshift("[INFO]"),this.printLog(t.log,r))}}},{key:"warning",value:function(){var t=i();if(this.logLevel>=e.WARNING){for(var n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];o.default.isFunction(t.warn)?this.printLog(t.warn,r):o.default.isFunction(t.log)&&(r.unshift("[WARN]"),this.printLog(t.log,r))}}},{key:"error",value:function(){var t=i();if(this.logLevel>=e.CRITICAL){for(var n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];o.default.isFunction(t.error)?this.printLog(t.error,r):o.default.isFunction(t.log)&&(r.unshift("[ERROR]"),this.printLog(t.log,r))}}},{key:"printLog",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],u=new Date;i.unshift("[".concat(u.toLocaleTimeString(),".").concat(u.getUTCMilliseconds(),"]")),o.default.isEmpty(this._prefix)||i.unshift(this._prefix),r.apply(console,i)}},{key:"NONE",get:function(){return 0}},{key:"CRITICAL",get:function(){return 1}},{key:"WARNING",get:function(){return 2}},{key:"INFO",get:function(){return 3}},{key:"DEBUG",get:function(){return 4}},{key:"prefix",set:function(e){this._prefix=e}},{key:"defaultLogLevel",get:function(){return this.CRITICAL}},{key:"logLevel",get:function(){return o.default.isNumber(this._logLevel)?this._logLevel:this.defaultLogLevel},set:function(e){o.default.isNumber(e)&&[0,1,2,3,4].indexOf(e)>=0&&(this._logLevel=e)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e,t),e}();t.default=u},109:function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){return Object.prototype.toString.call(e).slice(8,-1)}function o(e,t){return null!=t&&r(t)===e}function i(e){return o("Object",e)}function u(e){return o("Array",e)}function a(e){return o("String",e)}function l(e){return Math.abs(e)===1/0}function s(e){return o("Number",e)&&!p(e)&&!l(e)}function f(e){return o("Boolean",e)}function c(e){return o("Map",e)}function d(e){return null===e}function g(e){return void 0===e}function p(e){return!("object"!==n(e)||!o("Number",e)||!isNaN(e))||o("Number",e)&&e!=e}function y(e){return""+e}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return s(e=Number(e))?e:t}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(e=v(e,t))===t?e:parseInt(e)}function m(e){var t=e.split("#")[0].split("?");return 1===t.length?null:t.slice(1).join("?")}Object.defineProperty(t,"__esModule",{value:!0}),t.default={getType:r,is:o,isObject:i,isArray:u,isString:a,isNumber:s,isBoolean:f,isMap:c,isPrimitive:function(e){return s(e)||a(e)||f(e)},isFunction:function(e){return o("Function",e)},isNull:d,isNaN:p,isUndefined:g,findKey:function(e,t){return o("Object",e)&&Object.prototype.hasOwnProperty.call(e,t)},isUUID:function(e){return null!==e.match(/^[\da-fA-F]{8}-[\da-fA-F]{4}-[\da-fA-F]{4}-[\da-fA-F]{4}-[\da-fA-F]{12}$/)},deepCopy:function(e){return JSON.parse(JSON.stringify(e))},merge:function(){for(var e=arguments,t=arguments.length,n={},r=function(t){var r=t<0||e.length<=t?void 0:e[t];Object.keys(r).forEach((function(e){n[e]=r[e]}))},o=0;o<t;o++)r(o);return n},getTime:function(){return(new Date).getTime()},normalizeToString:y,normalizeToNumber:v,normalizeToInt:h,normalizeToUnsignedInt:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(e=h(e,t))===t||e>=0?e:t},isEmpty:function(e){return!!(d(e)||g(e)||p(e))||(a(e)?""===e:s(e)||l(e)?0===e:i(e)?0===Object.keys(e).length:u(e)?0===e.length:!!c(e)&&0===e.size)},snakeToLCC:function(e){return(e=y(e).replace(/_+([a-z])/g,(function(e,t){return t.toUpperCase()}))).charAt(0).toLowerCase()+e.slice(1)},urlQueryBuild:function(e){return Object.keys(e).map((function(t){return[t,e[t]].map(y).map(encodeURIComponent).join("=")})).join("&")},urlQueryString:m,urlQueryParse:function(e){return m("?".concat(e)).split("&").reduce((function(e,t){var n=t.split("=");return 2===n.length&&(e[n[0]]=n[1]),e}),{})}}}},t={};return function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}(825)}()},778:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(751),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t;return(t=[{key:"recordBuild",value:function(e,t,n,o){if(!r.Util.isString(e)||!r.Util.isUUID(e))return r.CLog.error("tokenが不正な値:",e),null;if(!r.Util.isString(t)||t.length<1)return r.CLog.error("projectが不正な値:",t),null;if(!r.Util.isString(n)||n.length<1)return r.CLog.error("datasetが不正な値:",n),null;if(!r.Util.isObject(o))return r.CLog.error("dataが不正な値:",o),null;var i=r.Util.deepCopy(o);Object.keys(i).forEach((function(e){0===e.indexOf("cex_")&&(r.CLog.warning("パラメータ ".concat(e,": cex_で始まるキーは予約済みキーのため使用できません.")),delete i[e])})),i.cex_cqt=r.Util.getTime();var u={tk:e,p:t,d:n,data:i};return r.CLog.info("[レコード生成]",u),u}},{key:"recordsBuild",value:function(e,t,n,o){var i=this,u=[],a=function(o){var a=i.recordBuild(e,t,n,o);r.Util.isNull(a)||u.push(a)};return r.Util.isObject(o)?a(o):r.Util.isArray(o)&&o.forEach(a),u}},{key:"requestBodyBuild",value:function(e){var t={},n=r.Util.deepCopy(e);return t.cex_cst=r.Util.getTime(),JSON.stringify({r:n,bp:t})}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e,t),e}();t.default=o},888:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(751),i=r(n(284)),u=r(n(778)),a=r(n(13)),l=n(646),s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.reset(),this.online=!0}var t;return(t=[{key:"push",value:function(e,t,n,r){var i=u.default.recordsBuild(e,t,n,r),l=i.map((function(e){return JSON.stringify(e).length})),s=l.reduce((function(e,t){return e+t}),0),f=i.length,c=Math.max(0,a.default.get("maxRequestCharCount")),d=Math.max(0,a.default.get("maxRequestMessageCount"));if(!(f<1))if(s>c)o.CLog.error("データのサイズが大きすぎます。データを破棄します  ".concat(s,"/").concat(c),i);else if(f>d&&o.CLog.warning("規定値を超えた件数のログが送信されます ".concat(f,"/").concat(d),i),this.charCount+s<=c&&this.queue.length+f<=d)this.queue=this.queue.concat(i),this.charCount+=s,this.charCountArray=this.charCountArray.concat(l);else if(this.online)this.send(),this.queue=this.queue.concat(i),this.charCount+=s,this.charCountArray=this.charCountArray.concat(l);else for(this.queue=this.queue.concat(i),this.charCount+=s,this.charCountArray=this.charCountArray.concat(l);this.charCount>c||this.queue.length>d;)o.CLog.warning("データ容量超過のため削除",this.queue[0]),this.queue.shift(),this.charCount-=this.charCountArray[0],this.charCountArray.shift()}},{key:"send",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(l.sendDebug("Buffer.send#start"),this.queue.length>0&&this.online){var t=u.default.requestBodyBuild(this.queue);i.default.send(t,e),this.reset()}l.sendDebug("Buffer.send#end")}},{key:"reset",value:function(){this.queue=[],this.charCount=0,this.charCountArray=[]}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();t.default=s},13:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(751),i=r(n(909)),u=r(n(624)),a={},l={get:function(e){return void 0!==a[e]?a[e]:null},set:function(e,t){a[e]=t,"apiHost"===e&&"https://"===a.apiScheme&&i.default("".concat(a.apiScheme).concat(a.apiHost))}};l.set("apiScheme","https://"),l.set("apiHost",u.default.getDefaultHost()),l.set("apiPath","/api/v1/stream"),l.set("sendBeaconEnabled",!0),l.set("targetProtocols",["http:","https:"]),l.set("ajaxTimeout",5e3),l.set("maxRequestCharCount",65497),l.set("maxRequestMessageCount",50),l.set("shortTimerInterval",1e3),l.set("longTimerInterval",5e3),l.set("errorLoggingEnabled",!1),o.CLog.debug("[config]",l),t.default=l},309:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(751),i=r(n(888)),u=r(n(305)),a=r(n(13)),l=r(n(641)),s=n(646),f=r(n(539));s.sendDebug("core#start");var c=new i.default,d=new u.default(c);o.CLog.prefix="[CoreLogger]";var g=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t;return(t=[{key:"setConsoleLogLevel",value:function(e){o.CLog.logLevel=e}},{key:"getConsoleLogLevel",value:function(){return o.CLog.logLevel}},{key:"setBeaconServer",value:function(e,t){o.Util.isString(e)?(a.default.set("apiHost",e),s.setErrorLoggerHost(e),o.CLog.info("送信先ホスト変更成功",e)):o.Util.isNull(e)||o.Util.isUndefined(e)||o.CLog.warning("送信先ホスト変更失敗",e),o.Util.isString(t)?(a.default.set("apiPath",t),o.CLog.info("送信先パス変更成功",t)):o.Util.isNull(t)||o.Util.isUndefined(t)||o.CLog.warning("送信先パス変更失敗",t)}},{key:"setAccessToken",value:function(e){o.Util.isString(e)&&(a.default.set("apiAccessToken",e),s.setErrorLoggerAccessToken(e),o.CLog.info("[アクセストークン変更]",e))}},{key:"enableSecureTransport",value:function(e){!0===e?a.default.set("apiScheme","https://"):!1===e&&(a.default.set("apiScheme","http://"),o.CLog.warning("通信にHTTPを利用します"))}},{key:"enableSendBeacon",value:function(e){!0===e?(a.default.set("sendBeaconEnabled",!0),o.CLog.info("通信にsendBeaconまたはXHRを利用します")):!1===e?(a.default.set("sendBeaconEnabled",!1),o.CLog.info("通信にsendBeaconを利用せずXHRのみ利用します")):o.CLog.warning("boolean型の値を指定してください")}},{key:"enableErrorLogging",value:function(e){!0===e?(a.default.set("errorLoggingEnabled",!0),o.CLog.info("コアロガー内のエラーメトリクスロギングを有効化します")):!1===e?(a.default.set("errorLoggingEnabled",!1),o.CLog.info("コアロガー内のエラーメトリクスロギングを無効化します")):o.CLog.warning("boolean型の値を指定してください")}},{key:"setTargetProtocols",value:function(e){if(o.Util.isArray(e))if(e.length>0)if((e=e.filter((function(e){return o.Util.isString(e)}))).length>0){var t=e.map((function(e){return(e.endsWith(":")?e:e.concat(":")).toLocaleLowerCase()}));a.default.set("targetProtocols",t),o.CLog.info("ロギング対象プロトコル変更",t)}else o.CLog.error("プロトコル名はstring型の値にしてください. プロトコル設定を行いませんでした");else a.default.set("targetProtocols",["http:","https:"]),o.CLog.info("ロギング対象プロトコルをデフォルトにリセット",a.default.get("targetProtocols"));else o.CLog.error("引数には配列を指定してください. プロトコル設定を行いませんでした")}},{key:"send",value:function(e){s.sendDebug("core.send#start"),o.Util.isObject(e)?-1!==a.default.get("targetProtocols").indexOf(window.location.protocol)?(c.push(e.token,e.project,e.dataset,e.data),o.Util.isUndefined(e.flush)||o.Util.isBoolean(e.flush)||o.CLog.warning("flushオプションが期待するのはboolean型です"),!0===e.flush?this.flush(e.callback):d.setTimer(),s.sendDebug("core.send#end")):o.CLog.error("現在開いているページの "+window.location.protocol+" プロトコルはロギング対象外です。"):o.CLog.error("引数の型が不正")}},{key:"flush",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;s.sendDebug("core.flush#start"),o.Util.isFunction(e)?c.send(e):(o.Util.isNull(e)||o.CLog.warning("callbackには関数を指定してください"),c.send()),s.sendDebug("core.flush#end")}},{key:"getSdkName",value:function(){return l.default.name}},{key:"getSdkVersion",value:function(){return l.default.version}},{key:"getPageSession",value:function(){return f.default()}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e,t),e}();s.sendDebug("core#end"),t.default=g},624:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(751),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t;return(t=[{key:"getDefaultHost",value:function(){var e="dsb.yahoo.co.jp",t="undefined"!=typeof window?window.document:{},n=r.Util.getType(t);return/^(HTML)?Document$/.test(n)?new RegExp("".concat("yahoo.co.jp","$")).test(t.location.hostname)?e:"dsb.yahooapis.jp":e}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e,t),e}();t.default=o},646:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(514)),i=r(n(539)),u=r(n(13)),a={targetName:"YASCoreLogger-web",targetVersion:"3.3.0",coreName:"YASCoreLogger-web",coreVersion:"3.3.0",pageSession:i.default()},l=new o.default(a);t.sendDebug=function(e){!0===u.default.get("errorLoggingEnabled")&&l.debug({label:e})},t.setErrorLoggerAccessToken=function(e){l.setAccessToken(e)},t.setErrorLoggerHost=function(e){l.setHost(e)}},284:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(751),u=o(n(13)),a=n(646),l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t;return(t=[{key:"send",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;a.sendDebug("HttpClient.send#start");var n="undefined"!=typeof window?window:{};u.default.get("sendBeaconEnabled")&&i.Util.isNull(t)&&"object"===r(n.navigator)&&i.Util.isFunction(n.navigator.sendBeacon)?this.sendBeacon(e):this.sendAjax(e,t),a.sendDebug("HttpClient.send#end")}},{key:"sendAjax",value:function(e,t){a.sendDebug("HttpClient.sendAjax#start");var n=function(){var e=null;if("undefined"==typeof XMLHttpRequest)return null;try{if(!("withCredentials"in(e=new XMLHttpRequest)))return null;if("undefined"!=typeof XDomainRequest)return null}catch(e){return i.CLog.error("XMLHttpRequestオブジェクトの作成に失敗",e),null}return e}(),r=this.buildUrl(),o=function(){i.Util.isFunction(t)&&t()};if(!i.Util.isNull(n)){n.open("POST",r),n.withCredentials=!0,n.setRequestHeader("Content-Type","application/json;charset=UTF-8");var l=u.default.get("apiAccessToken");null!==l&&n.setRequestHeader("Authorization","Bearer ".concat(l)),!("timeout"in n)&&u.default.get("ajaxTimeout")?setTimeout((function(){n.abort(),o()}),u.default.get("ajaxTimeout")):n.timeout=u.default.get("ajaxTimeout"),n.onload=n.ontimeout=n.onerror=n.onabort=o,n.send(e),i.CLog.info("[送信]",r,e),a.sendDebug("HttpClient.sendAjax#end")}}},{key:"sendBeacon",value:function(e){a.sendDebug("HttpClient.sendBeacon#start");var t=this.buildUrl(!0);navigator.sendBeacon(t,e),i.CLog.info("[送信]",t,e),a.sendDebug("HttpClient.sendBeacon#end")}},{key:"buildUrl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t="";t+=u.default.get("apiScheme"),t+=u.default.get("apiHost"),t+=u.default.get("apiPath");var n=u.default.get("apiAccessToken");return null!==n&&e&&(t+="?access_token=".concat(n)),t}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e,t),e}();t.default=l},539:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(834));t.default=function(){return"undefined"==typeof window?"":(window.YAS=window.YAS||{},window.YAS.psid=window.YAS.psid||o.default(),window.YAS.psid)}},909:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if("undefined"==typeof window||void 0===window.document)return!1;var t=document.createElement("link");return t.setAttribute("rel","preconnect"),t.setAttribute("href",e),document.head.appendChild(t),!0}},305:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(751),l=u(n(13)),s=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;o(this,e),this.buffer=t,this.shortInterval=i||l.default.get("shortTimerInterval"),this.longInterval=r||l.default.get("longTimerInterval"),this.shortTimer=null,this.longTimer=null,this.leaveCallback=function(e){a.CLog.debug("fire inactive event. type = ".concat(e.type)),n.buffer.queue.length>0&&(n.buffer.send(),n.clearAllTimer())};var u="undefined"!=typeof window?window:{};a.Util.is("Window",u)&&a.Util.isFunction(u.addEventListener)?e.INACTIVE_EVENTS.forEach((function(e){u.addEventListener(e,n.leaveCallback,!1)})):a.CLog.warning("not hook a leave event."),this.createNetWorkStateHandler(),this.setInitialNetWork(),this.setNetWorkWatcher()}var t,n,u;return t=e,u=[{key:"INACTIVE_EVENTS",get:function(){return["blur","pagehide","visibilitychange-hidden","beforeunload","unload"]}}],(n=[{key:"createNetWorkStateHandler",value:function(){var e=this;this.onlineHandler=function(){e.buffer.online=!0,e.buffer.queue.length>0&&e.buffer.send()},this.offlineHandler=function(){e.buffer.online=!1}}},{key:"setInitialNetWork",value:function(){var e="undefined"!=typeof window?window:{};a.Util.is("Window",e)&&"object"===r(e.navigator)&&a.Util.isBoolean(e.navigator.onLine)?this.buffer.online=e.navigator.onLine:this.buffer.online=!0}},{key:"setNetWorkWatcher",value:function(){var e="undefined"!=typeof window?window:{};a.Util.isFunction(e.addEventListener)&&(e.addEventListener("online",this.onlineHandler,!1),e.addEventListener("offline",this.offlineHandler,!1))}},{key:"setTimer",value:function(){var e=this;a.Util.isNull(this.shortTimer)||(clearTimeout(this.shortTimer),this.shortTimer=null),this.shortTimer=setTimeout((function(){e.buffer.send(),e.clearAllTimer(),a.CLog.debug("Called: short timer fire.")}),this.shortInterval),a.Util.isNull(this.longTimer)&&(this.longTimer=setTimeout((function(){e.buffer.send(),e.clearAllTimer(),a.CLog.debug("Called: long timer fire.")}),this.longInterval))}},{key:"clearAllTimer",value:function(){clearTimeout(this.shortTimer),clearTimeout(this.longTimer),this.shortTimer=null,this.longTimer=null}}])&&i(t.prototype,n),u&&i(t,u),e}();t.default=s},834:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}},641:function(e){"use strict";e.exports=JSON.parse('{"name":"YASCoreLogger-web","version":"3.3.0"}')}},o={},function e(t){var n=o[t];if(void 0!==n)return n.exports;var i=o[t]={exports:{}};return r[t].call(i.exports,i,i.exports,e),i.exports}(309).default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=l(n(14)),u=l(n(1)),a=l(n(8));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){return o.Util.isUndefined(e)||o.Util.isNull(e)?"":o.Util.isPrimitive(e)?o.Util.normalizeToString(e):""}function f(e){if(o.Util.isUndefined(e)||o.Util.isNull(e))return a.default;if(o.Util.isPrimitive(e)){var t=o.Util.normalizeToString(e);return""!==t?t:a.default}return""}function c(e){return""!==e}function d(e,t,n){if(!o.Util.isUndefined(n[t]))return n;var r=function(e,t){return!o.Util.isUndefined(e[t])&&e[t]instanceof i.default?e[t].getParameters():null}(e,t);return o.Util.isNull(r)||(n[t]=r),n}var g=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.trackers={},this.tokens={},this.groups={default:[]},this.baseParameters={},this.pvid=u.default.getPageSession(),o.CLog.debug("[YAConfigurator#constructor] pvid = "+this.pvid)}return r(e,null,[{key:"getInstance",value:function(){return p}}]),r(e,[{key:"registerTracker",value:function(e,t,n){var r=s(e);if(""===r)return o.CLog.error("[YAConfigurator#registerTracker] 不正なロギングID",e),null;if(o.Util.isUndefined(t))return o.CLog.error("[YAConfigurator#registerTracker] TOKENが見つからない"),null;var u=f(n);if(""===u)return o.CLog.error("[YAConfigurator#registerTracker] 不正なグループ名"),null;if(!o.Util.isUndefined(this.trackers[r]))return o.CLog.debug("[YAConfigurator#registerTracker] Already created tracker, ["+r+"]"),this.trackers[r];var a=new i.default(r,u);return this.trackers[r]=a,this.tokens[r]=t,o.Util.isUndefined(this.groups[u])?(o.CLog.debug("[YAConfigurator#registerTracker] new group, ["+u+"]"),this.groups[u]=[r]):this.groups[u].push(r),o.CLog.info("[YAConfigurator#registerTracker] トラッカーを作成しました\nLoggingID="+r+", Group="+u+", Token="+t),a}},{key:"updateTracker",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.default,r=s(n);if(""===r)return o.CLog.error("[YAConfigurator#updateTracker] 不正なロギングID",n),!1;if(!o.Util.isObject(e))return o.CLog.error("[YAConfigurator#updateTracker] 期待しないデータ型",e),!1;var i=[];if(o.Util.isUndefined(this.trackers[r])){if(!o.Util.isArray(this.groups[r]))return o.CLog.error("[YAConfigurator#updateTracker] トラッカー未作成のロギングIDまたはグループ",n),!1;this.groups[r].forEach((function(e){i.push(t.trackers[e])}))}else i.push(this.trackers[r]);return i.forEach((function(t){Object.keys(e).forEach((function(n){t.setParameter(n,e[n])}))})),o.CLog.info("[YAConfigurator#updateTracker] トラッカーに値を設定完了",i),!0}},{key:"setBaseParameters",value:function(e){return o.Util.isObject(e)?(this.baseParameters=o.Util.merge(this.baseParameters,e),o.CLog.info("[YAConfigurator#baseParameters] ベースパラメータ設定完了",this.baseParameters),!0):(o.CLog.error("[YAConfigurator#setBaseParameters] オブジェクト形式ではありません",e),!1)}},{key:"getBaseParameters",value:function(){return o.Util.merge(this.baseParameters,{pvid:this.pvid})}},{key:"getTrackerParameters",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[],r={};if(!o.Util.isString(t)&&o.Util.isPrimitive(t)||!o.Util.isEmpty(t))if(o.Util.isArray(t))n=o.Util.deepCopy(t);else{if(!o.Util.isPrimitive(t))return o.CLog.error("[YAConfigurator#getTrackerParameters] 不正なターゲット指定"),r;n=[t]}else n=[a.default];var i=n.map(s).filter(c);i.forEach((function(t){r=d(e.trackers,t,r)}));var u=n.map(f).filter(c).filter((function(t){return o.Util.isArray(e.groups[t])}));return u.forEach((function(t){e.groups[t].map(s).filter(c).forEach((function(t){r=d(e.trackers,t,r)}))})),o.Util.deepCopy(r)}}]),e}(),p=new g;t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=s(n(17)),i=s(n(18)),u=n(0),a=s(n(6)),l=s(n(7));function s(e){return e&&e.__esModule?e:{default:e}}var f=function(e){return/^https?:\/\//.test(e)},c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"formatParameters",value:function(e){var t={};return u.Util.isObject(e)?(Object.keys(e).forEach((function(n){var r=u.Util.snakeToLCC(n);t[r]=e[n]})),t):t}},{key:"decodeCampaignParameter",value:function(e){return decodeURIComponent(e.replace(/\+/g,"%20"))}},{key:"buildWritableCommonData",value:function(){var e="undefined"!=typeof window?window:{};i.default.document=e.document;var t={isNonInteraction:!this.defaultInteraction,dataSource:i.default.dataSource,pageTitle:i.default.pageTitle,userLanguage:i.default.userLanguage,screenColorDepth:i.default.screenColorDepth,viewportWidth:i.default.viewportWidth,viewportHeight:i.default.viewportHeight,deviceOrientation:i.default.deviceOrientation,screenWidth:i.default.screenWidth,screenHeight:i.default.screenHeight,useAnalyticsUid:(0,a.default)()!==l.default.internalHost};return Object.keys(t).forEach((function(e){u.Util.isNull(t[e])&&delete t[e]})),t}},{key:"buildNonWritableCommonData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{loggingId:e,loggerSdkName:i.default.loggerSdkName,loggerSdkVersion:i.default.loggerSdkVersion,hitType:this.hitType||null,clientHitTimestamp:u.Util.getTime()}}},{key:"buildRepairableCommonData",value:function(e){var t=e.pageUrl,n=void 0;u.Util.isUndefined(t)?n=i.default.pageUrl:u.Util.isString(t)&&!u.Util.isEmpty(t)&&f(t)?n=t:(u.CLog.warning("[BaseBuilder#run] pageUrlの値がURLとして不正です. ","http(s)://で始まる文字列を指定してください.",t),n=i.default.pageUrl,u.CLog.warning("[BaseBuilder#run] pageUrlの値を次の値に自動設定しました. ","必要に応じて適切な値を指定してください.",n));var r=e.pageReferrer,o=void 0;return u.Util.isUndefined(r)?o=i.default.pageReferrer:u.Util.isString(r)&&(u.Util.isEmpty(r)||f(r))?o=r:u.Util.isNull(r)?(u.CLog.warning("[BaseBuilder#run] pageReferrerの値がNULLになっています. 期待している値かどうか確認してください.",r),o=r):(u.CLog.warning("[BaseBuilder#run] pageReferrerの値がURLとして不正です. ","http(s)://で始まる文字列を指定してください.",r),o=i.default.pageReferrer,u.CLog.warning("[BaseBuilder#run] pageReferrerの値を次の値に自動設定しました. ","必要に応じて適切な値を指定してください.",o)),{pageUrl:n,pageReferrer:o}}},{key:"run",value:function(e,t,n,r,i){if(!u.Util.isString(e)||u.Util.isEmpty(e))return null;u.CLog.debug("[BaseBuilder#run] hit schema = "+this.hitType+", rule =",this.rule);var a=this.buildWritableCommonData(),l=this.formatParameters(this.campaign),s=this.formatParameters(t),f=this.formatParameters(n),c=this.formatParameters(r),d=this.formatParameters(i),g=this.buildNonWritableCommonData(e);g.hitSequence=c.hitSequence,g.pvid=f.pvid,u.CLog.debug("[BaseBuilder#run] common =",a,"campaign = ",l,"builder =",s,"base =",f,"tracker =",c,"hit =",d,"non_writable =",g);var p=u.Util.merge(a,l,s,f,c,d,g),y=this.buildRepairableCommonData(p);return u.CLog.debug("[BaseBuilder#run] repaired = ",y),o.default.run(this.rule,u.Util.merge(p,y))}},{key:"campaign",get:function(){var e=this,t="undefined"!=typeof window?window:{};i.default.document=t.document;var n=i.default.pageQueryParameter,r={};return null===n||["cpt_s","cpt_n","cpt_m","cpt_k","cpt_c"].forEach((function(t){u.Util.isUndefined(n[t])||(r[t]=e.decodeCampaignParameter(n[t]))})),r}}]),e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={hitType:{short:"ht",type:"string"},loggingId:{short:"lid",type:"string"},clientHitTimestamp:{short:"cht",type:"number"},loggerSdkName:{short:"lsn",type:"string"},loggerSdkVersion:{short:"lsv",type:"string"},isNonInteraction:{short:"ini",type:"boolean"},pageUrl:{short:"pu",type:"string"},pageReferrer:{short:"pr",type:"string"},pageTitle:{short:"pt",type:"string"},userLanguage:{short:"ul",type:"string"},dataSource:{short:"ds",type:"string"},screenWidth:{short:"sw",type:"number"},screenHeight:{short:"sh",type:"number"},viewportWidth:{short:"vw",type:"number"},viewportHeight:{short:"vh",type:"number"},screenColorDepth:{short:"scd",type:"number"},deviceOrientation:{short:"do",type:"string"},hitSequence:{short:"hs",type:"number"},pvid:{short:"pvid",type:"string"},dim:{short:"cud",type:"string",numbered:!0},aui:{short:"aui",type:"string"},useAnalyticsUid:{short:"uaui",type:"boolean"},mtestid:{short:"mti",type:"string"},cptS:{short:"cps",type:"string"},cptN:{short:"cpn",type:"string"},cptM:{short:"cpm",type:"string"},cptK:{short:"cpk",type:"string"},cptC:{short:"cpc",type:"string"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=c(n(1)),u=c(n(16)),a=c(n(20)),l=c(n(22)),s=c(n(24)),f=c(n(2));function c(e){return e&&e.__esModule?e:{default:e}}var d=f.default.getInstance(),g={pageview:u.default,timing:l.default,webPerformance:a.default,event:s.default},p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"getHitBuilder",value:function(e){var t=o.Util.snakeToLCC(e);return!o.Util.isString(t)||o.Util.isUndefined(g[t])?(o.CLog.error("[HitCommander#getHitBuilder] 不正なイベント名",t),null):(o.CLog.debug("[HitCommander#getHitBuilder] "+t+" builder is finded."),g[t])}},{key:"run",value:function(){var e=this,t=void 0,n=void 0,r=void 0,u=arguments.length;if(this.isFlush=!1,o.Util.isString(arguments.length<=0?void 0:arguments[0])&&o.Util.isString(arguments.length<=1?void 0:arguments[1])&&(2===u||3===u&&o.Util.isObject(arguments.length<=2?void 0:arguments[2])))t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],r=o.Util.isObject(arguments.length<=2?void 0:arguments[2])?arguments.length<=2?void 0:arguments[2]:{};else{if(!o.Util.isString(arguments.length<=0?void 0:arguments[0])||!(1===u||2===u&&o.Util.isObject(arguments.length<=1?void 0:arguments[1])))return void o.CLog.error("[HitCommander#run] 不正な引数の指定");n=arguments.length<=0?void 0:arguments[0],r=o.Util.isObject(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:{}}var l=this.formatConfig(r);n.split(",").forEach((function(n){var u=e.getHitBuilder(n.trim());if(null!==u){if(u===a.default){var s=a.default.timing;return o.Util.isNull(s)?void o.CLog.debug("[HitCommander#run] timing object not exist."):(o.CLog.debug("[HitCommander#run] window onload is not over yet, wait a moment"),void function e(n){var s=a.default.timing;if(o.Util.isUndefined(s.loadEventEnd)||s.loadEventEnd>0)return o.CLog.debug("[HitCommander#run] window onload was over."),n.generate(u,t,r),void i.default.flush(l.eventCallback);setTimeout(e,100,n)}(e))}e.generate(u,t,r)}})),this.isFlush&&!0!==l.nonFlush&&(i.default.flush(l.eventCallback),o.CLog.info("[HitCommander#run] フラッシュ完了"))}},{key:"generate",value:function(e,t,n){var r=this,u=d.getBaseParameters(),a=d.getTrackerParameters(t);o.CLog.debug("[HitCommander#generate] Fire "+e.schemaName+", LoggingIDs are ["+Object.keys(a)+"]"),Object.keys(a).forEach((function(t){var l=e.run(t,u,a[t],n);o.Util.isNull(l)?o.CLog.error("[HitCommander#generate] ログ生成失敗\nLoggingID="+t+", EventName="+e.schemaName+", options="+n):(i.default.send({token:d.tokens[t],project:"ya",dataset:t,data:l}),r.isFlush=!0,o.CLog.info("[HitCommander#generate] ログ登録完了",l))}))}},{key:"formatConfig",value:function(e){var t=["nonFlush","eventCallback"],n={};return Object.keys(e).forEach((function(r){t.indexOf(o.Util.snakeToLCC(r))>-1&&(n[o.Util.snakeToLCC(r)]=e[r])})),n}}]),e}();t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(7),i=(r=o)&&r.__esModule?r:{default:r},u=n(0);t.default=function(){var e="undefined"!=typeof window?window:{},t=u.Util.normalizeToString(e.location.hostname);return/^(.+\.)?yahoo\.co\.jp\/?$/.test(t)?i.default.internalHost:i.default.externalHost}},function(e){e.exports={internalHost:"dsb.yahoo.co.jp",externalHost:"dsb.yahooapis.jp",errMetrics:{tk:"9225bd01-1ff0-4e57-9c92-6e831c45253a",pj:"ds_logger",ds:"ya_web_error"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="default"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),u=n(2),a=(r=u)&&r.__esModule?r:{default:r},l=n(0);var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return o(e,null,[{key:"run",value:function(){var e=void 0,t=void 0;if(1===arguments.length&&i.Util.isObject(arguments.length<=0?void 0:arguments[0]))t=arguments.length<=0?void 0:arguments[0];else{if(2!==arguments.length||!i.Util.isString(arguments.length<=0?void 0:arguments[0])||!i.Util.isObject(arguments.length<=1?void 0:arguments[1]))return void l.CLog.error("[ParamCommander#run] 不正な引数の指定");e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1]}var n=a.default.getInstance();i.Util.isString(e)?"*"===e.trim()?Object.keys(n.trackers).forEach((function(e){n.updateTracker(t,e)})):n.updateTracker(t,e):n.updateTracker(t)}}]),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=l(n(8)),u=l(n(5)),a=l(n(9));function l(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n="undefined"!=typeof document?document:{};this.isStart=!1,this.targets=[],this.title=n.title||null,this.url=n.URL||null,this.referrer=n.referrer||null,this.options=this.optionsFormater(t)}return r(e,[{key:"addTarget",value:function(e){if("undefined"!=typeof document){var t=document.URL,n=o.Util.isString(e)?e:i.default;o.CLog.debug("[BaseObserver#addTarget] "+n+" added. spa tracking."),-1===this.targets.indexOf(n)&&(this.targets.push(n),this.options.initPageview&&(a.default.run(n,{pageReferrer:this.referrer}),u.default.run(n,"pageview,webPerformance"),this.referrer=t))}else o.CLog.warning("[BaseObserver#fire] Document object not found.")}},{key:"fire",value:function(){var e=this;if("undefined"!=typeof document){var t=document,n=t.URL,r=t.title,i=t.URL;this.options.requireUrlChange&&this.url===n?o.CLog.debug("[BaseObserver#fire] not url changed."):this.options.requireTitleChange&&this.title===r?o.CLog.debug("[BaseObserver#fire] not title changed."):this.options.requireNonEmptyTitle&&o.Util.isEmpty(r)?o.CLog.debug("[BaseObserver#fire] title is empty."):(this.targets.forEach((function(t){a.default.run(t,{pageReferrer:e.referrer}),u.default.run(t,"pageview"),o.CLog.info("[BaseObserver#fire] "+t+" へ自動PVを送信しました.")})),this.title=r,this.url=n,this.referrer=i,o.Util.isFunction(this.options.pvCallback)&&this.options.pvCallback())}else o.CLog.warning("[BaseObserver#fire] Document object not found.")}},{key:"optionsFormater",value:function(e){var t=o.Util.isObject(e)?e:{},n={};return Object.keys(t).forEach((function(e){var r=o.Util.snakeToLCC(e);n[r]=t[e]})),n.initPageview=!o.Util.isBoolean(n.initPageview)||n.initPageview,n.requireUrlChange=!!o.Util.isBoolean(n.requireUrlChange)&&n.requireUrlChange,n.requireTitleChange=!!o.Util.isBoolean(n.requireTitleChange)&&n.requireTitleChange,n.requireNonEmptyTitle=!o.Util.isBoolean(n.requireNonEmptyTitle)||n.requireNonEmptyTitle,n.minElapsedTime=o.Util.isNumber(n.minElapsedTime)?n.minElapsedTime:0,n.interval=o.Util.isNumber(n.interval)?n.interval:200,n}}]),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(12)),o=n(0),i=a(n(1)),u=a(n(6));function a(e){return e&&e.__esModule?e:{default:e}}t.default=r.default,o.CLog.prefix="[YA]";var l="undefined"!=typeof window?window:{};if(o.Util.is("Window",l)&&o.Util.isString(l.location.href)){var s=location.href.match(/yadebug=(\d)/);o.Util.isNull(s)||(o.CLog.logLevel=o.Util.normalizeToNumber(s[1]))}i.default.setBeaconServer((0,u.default)()),o.Util.isArray(l.yacmds)&&l.yacmds.forEach((function(e){e=Array.prototype.slice.call(e),o.CLog.debug("ya() called from command queue.",e),r.default.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e))}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0!==t.length){var o=t[0],i=t.slice(1);if(r.Util.findKey(h,o)&&r.Util.isFunction(h[o].run))try{var u;(u=h[o]).run.apply(u,v(i))}catch(e){var a=r.Util.merge(r.Browser.generateMetrics(e,o),{tk:g.default.errMetrics.tk,p:g.default.errMetrics.pj,d:g.default.errMetrics.ds}),l=r.Util.urlQueryBuild(a);r.Browser.createImageTag("https://"+(0,p.default)()+"/api/v1/clear.gif?"+l)}else r.CLog.warning("[ya] 指定されたコマンドが見つかりません",o)}else r.CLog.warning("[ya] コマンドが指定されてません")};var r=n(0),o=y(n(13)),i=y(n(9)),u=y(n(5)),a=y(n(26)),l=y(n(27)),s=y(n(30)),f=y(n(31)),c=y(n(32)),d=y(n(33)),g=y(n(7)),p=y(n(6));function y(e){return e&&e.__esModule?e:{default:e}}function v(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var h={init:o.default,param:i.default,hit:u.default,debug:c.default,spa:l.default,config:s.default,item:d.default,global:a.default,"core-logger":f.default}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=l(n(2)),u=l(n(1)),a=l(n(15));function l(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"run",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r="undefined"!=typeof window?window:{},l=i.default.getInstance();if(o.Util.isPrimitive(e)){n=o.Util.isObject(n)?n:{},o.Util.findKey(n,"groups")?(o.CLog.debug("[ConfigCommander#run] found options.groups",n.groups),l.registerTracker(e,t,n.groups)):(o.CLog.debug("[ConfigCommander#run] not found options.groups"),l.registerTracker(e,t));var s=n.savekey||a.default,f=r.localStorage.getItem(s);o.Util.findKey(n,"savekey")&&o.CLog.debug("[ConfigCommander#run] set savekey",n.savekey),o.Util.isNull(f)&&(f=u.default.getPageSession(),r.localStorage.setItem(s,f)),l.updateTracker({aui:f},e)}else o.CLog.error("[ConfigCommander#run] ロギングIDは文字列を期待します",e)}}]),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0);var i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=o.Util.isString(t)?t:"",this.group=o.Util.isString(n)?n:"",this.parameters={},this.hitSequence=0}return r(e,[{key:"setParameter",value:function(e,t){var n,r=(n=e,o.Util.isPrimitive(n)?o.Util.normalizeToString(n):"");""!==r&&(this.parameters[r]=function(e){return o.Util.isUndefined(e)?"":e}(t))}},{key:"getParameters",value:function(){var e={hitSequence:++this.hitSequence};return o.Util.merge(this.parameters,e)}}]),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="_aui"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=a(n(3)),u=a(n(4));function a(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=o.Util.deepCopy(u.default),c=function(e){function t(){return l(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,null,[{key:"run",value:function(e,n,r,o){return function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var u=o.get;return void 0!==u?u.call(r):void 0}(t.__proto__||Object.getPrototypeOf(t),"run",this).call(this,e,{},n,r,o)}},{key:"hitType",get:function(){return"pageview"}},{key:"rule",get:function(){return f}},{key:"defaultInteraction",get:function(){return!0}}]),t}(i.default);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0);var i=new RegExp("^(.+?)([0-9]+)$");function u(e,t,n){var r=e[n].type,i=t[n];if(o.Util.isUndefined(i)||o.Util.isNull(i))return null;if("string"===r)return o.Util.normalizeToString(i);if("number"===r)return o.Util.normalizeToNumber(i,null);if("array"===r){var u=e[n].childRule;if(!Array.isArray(i))return null;var l=[];return i.forEach((function(e){var t={};if(o.Util.isObject(e)){Object.keys(e).forEach((function(n){var r=o.Util.snakeToLCC(n);t[r]=e[n]}));var n=a.run(u,t);l.push(n)}})),l}if("object"===r){if(!o.Util.isObject(i))try{return JSON.parse(i)}catch(e){return null}return i}return Boolean(i)}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"run",value:function(e,t){if(!o.Util.isObject(e))return o.CLog.error("[YAValidator#run] 不正なルールセット",e),null;if(!o.Util.isObject(t))return o.CLog.error("[YAValidator#run] 不正な形式のデータ",t),null;var n=["view_item_list","view_item","select_item","conversion_item"].indexOf(t.action)>=0,r=Object.keys(t).filter((function(t){n&&"category"===t&&o.CLog.warning("[YAValidator#run] \n                イベントアクションにアイテム分析用の文字列を設定している場合、イベントカテゴリは集計時に固定の値に上書きされます。");var r=e[t]?e[t].short:"";return!n&&["itms","inm","iln","cn","cv"].indexOf(r)>=0?(o.CLog.warning("[YAValidator#run] \n                イベントアクションにアイテム分析用の文字列を設定していない場合、アイテム情報のログは送信されません。",t),!1):function(e,t){var n=Object.keys(e).filter((function(t){return!e[t].numbered})),r=Object.keys(e).filter((function(t){return!!e[t].numbered}));if(-1!==n.indexOf(t))return!0;var u=i.exec(t);if(null!==u&&-1!==r.indexOf(u[1])){var a=e[u[1]],l=o.Util.normalizeToNumber(u[2]);return!(o.Util.findKey(a,"min")&&l<a.min)&&(!(o.Util.findKey(a,"max")&&l>a.max)&&(e[t]={short:""+a.short+l,type:a.type},!0))}return!1}(e,t)})),a={};return r.forEach((function(n){var r=e[n],i=r.short,l=r.type,s=u(e,t,n);null!==s?a[i]=s:o.CLog.warning("[YAValidator#run] "+n+"に"+l+"型以外の値("+t[n]+")が指定されています")})),a}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=n(19);function u(e){return Array.isArray(e)?e:Array.from(e)}function a(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t.slice(1),u=r,a=!0;return o.Util.isArray(i)&&i.length>0?i.forEach((function(e){u&&!o.Util.isUndefined(u[e])?u=u[e]:a=!1})):a=!1,a?u:null}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"getVal",value:function(){return a.apply(void 0,arguments)}},{key:"document",set:function(e){this._document=e}},{key:"pageUrl",get:function(){return a(this._document,"location","href")}},{key:"pageHost",get:function(){return a(this._document,"location","hostname")}},{key:"pageQueryParameter",get:function(){if(null===this.pageUrl)return null;var e=u(this.pageUrl.split("#")[0].split("?")).slice(1);return 1!==e.length?null:e[0].split("&").reduce((function(e,t){var n=u(t.split("=")),r=n[0],o=n.slice(1);return 1===o.length&&(e[r]=o[0]),e}),{})}},{key:"pageReferrer",get:function(){var e=a(this._document,"referrer");return o.Util.isString(e)&&!o.Util.isEmpty(e)?e:null}},{key:"pageTitle",get:function(){return a(this._document,"title")}},{key:"userLanguage",get:function(){return a(this._document,"defaultView","navigator","language")||a(this._document,"defaultView","navigator","browserLanguage")}},{key:"dataSource",get:function(){return"web"}},{key:"loggerSdkName",get:function(){return"YASYahooAnalyticsLogger-web"}},{key:"loggerSdkVersion",get:function(){return o.Util.isString(i.version)?i.version:""}},{key:"screenWidth",get:function(){return a(this._document,"defaultView","screen","width")}},{key:"screenHeight",get:function(){return a(this._document,"defaultView","screen","height")}},{key:"viewportWidth",get:function(){var e=a(this._document,"documentElement","clientWidth"),t=a(this._document,"body","clientWidth"),n=a(this._document,"compatMode");return!e||"CSS1Compat"!==n&&t?t||null:e}},{key:"viewportHeight",get:function(){var e=a(this._document,"documentElement","clientHeight"),t=a(this._document,"body","clientHeight"),n=a(this._document,"compatMode");return!e||"CSS1Compat"!==n&&t?t||null:e}},{key:"screenColorDepth",get:function(){return a(this._document,"defaultView","screen","colorDepth")}},{key:"deviceOrientation",get:function(){var e=a(this._document,"defaultView","screen","orientation","type")||a(this._document,"defaultView","screen","mozOrientation","type")||a(this._document,"defaultView","screen","msOrientation","type"),t=a(this._document,"defaultView","orientation");if(o.Util.isString(e)){var n=e.match(/^(landscape|portrait)-(primary|secondary)$/);if(o.Util.isArray(n))return n[1]}else if(o.Util.isNumber(t))return 90===Math.abs(t)?"landscape":"portrait";return null}}]),e}();t.default=l},function(e){e.exports={version:"1.6.0"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var u=o.get;return void 0!==u?u.call(r):void 0},a=n(0),l=c(n(3)),s=c(n(4)),f=c(n(21));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=a.Util.merge(s.default,f.default),y=function(e){function t(){return d(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"buildNonWritableCommonData",value:function(e){return a.Util.merge(u(t.__proto__||Object.getPrototypeOf(t),"buildNonWritableCommonData",this).call(this,e),{isNonInteraction:!this.defaultInteraction})}},{key:"run",value:function(e,n,r,o){var i=this.timing;return a.Util.isNull(i)?null:u(t.__proto__||Object.getPrototypeOf(t),"run",this).call(this,e,i,n,r,o)}},{key:"hitType",get:function(){return"timing"}},{key:"rule",get:function(){return p}},{key:"defaultInteraction",get:function(){return!1}},{key:"timing",get:function(){var e=this,t="undefined"!=typeof window?window:{};if("object"!==(void 0===t?"undefined":o(t))||a.Util.isNull(t))return null;var n=t.performance||t.webkitPerformance,i={};return a.Util.isEmpty(n)||a.Util.isEmpty(n.timing)?null:(Object.keys(this.rule).forEach((function(t){if(a.Util.isEmpty(n.timeOrigin))a.Util.isUndefined(n.timing[t])||(i[t]=n.timing[t]);else if("navigationStart"!==t){if("new"===e.rule[t].env){if(a.Util.isUndefined(n.getEntriesByType)&&!a.Util.isFunction(n.getEntriesByType))return;var o=n.getEntriesByType("navigation"),u=r(o,1)[0];if(!a.Util.isEmpty(u)&&!a.Util.isUndefined(u[t]))return e.rule[t].defaultZero&&0===u[t]?void(i[t]=0):void(i[t]=Math.round(u[t]+n.timeOrigin))}"old"!==e.rule[t].env||a.Util.isUndefined(n.timing[t])||(i[t]=n.timing[t])}else i[t]=Math.round(n.timeOrigin)})),i)}}]),t}(l.default);t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={navigationStart:{short:"ns",type:"number",env:"new",defaultZero:!1},unloadEventStart:{short:"ues",type:"number",env:"old",defaultZero:!0},unloadEventEnd:{short:"uee",type:"number",env:"old",defaultZero:!0},redirectStart:{short:"rds",type:"number",env:"old",defaultZero:!0},redirectEnd:{short:"rde",type:"number",env:"old",defaultZero:!0},fetchStart:{short:"fs",type:"number",env:"old",defaultZero:!1},domainLookupStart:{short:"dls",type:"number",env:"old",defaultZero:!1},domainLookupEnd:{short:"dle",type:"number",env:"old",defaultZero:!1},connectStart:{short:"cs",type:"number",env:"old",defaultZero:!1},connectEnd:{short:"ce",type:"number",env:"old",defaultZero:!1},secureConnectionStart:{short:"scs",type:"number",env:"old",defaultZero:!1},requestStart:{short:"rqs",type:"number",env:"new",defaultZero:!1},responseStart:{short:"rs",type:"number",env:"new",defaultZero:!1},responseEnd:{short:"re",type:"number",env:"old"},domLoading:{short:"dl",type:"number",env:"old",defaultZero:!1},domInteractive:{short:"di",type:"number",env:"new",defaultZero:!1},domContentLoadedEventStart:{short:"dcles",type:"number",env:"new",defaultZero:!1},domContentLoadedEventEnd:{short:"dclee",type:"number",env:"new",defaultZero:!1},domComplete:{short:"dc",type:"number",env:"new",defaultZero:!1},loadEventStart:{short:"les",type:"number",env:"new",defaultZero:!0},loadEventEnd:{short:"lee",type:"number",env:"new",defaultZero:!0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=l(n(3)),u=l(n(4)),a=l(n(23));function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=o.Util.merge(u.default,a.default),d=function(e){function t(){return s(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,null,[{key:"run",value:function(e,n,r,o){return function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var u=o.get;return void 0!==u?u.call(r):void 0}(t.__proto__||Object.getPrototypeOf(t),"run",this).call(this,e,{},n,r,o)}},{key:"hitType",get:function(){return"timing"}},{key:"rule",get:function(){return c}},{key:"defaultInteraction",get:function(){return!1}}]),t}(i.default);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={name:{short:"tn",type:"string"},action:{short:"ta",type:"string"},category:{short:"tc",type:"string"},value:{short:"tv",type:"number"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=l(n(3)),u=l(n(4)),a=l(n(25));function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=o.Util.merge(u.default,a.default),d=function(e){function t(){return s(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,null,[{key:"run",value:function(e,n,r,o){return function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var u=o.get;return void 0!==u?u.call(r):void 0}(t.__proto__||Object.getPrototypeOf(t),"run",this).call(this,e,{},n,r,o)}},{key:"hitType",get:function(){return"event"}},{key:"rule",get:function(){return c}},{key:"defaultInteraction",get:function(){return!0}}]),t}(i.default);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={name:{short:"en",type:"string"},action:{short:"ea",type:"string"},category:{short:"ec",type:"string"},value:{short:"ev",type:"number"},items:{short:"itms",type:"array",childRule:{itemId:{short:"id",type:"string"},itemName:{short:"name",type:"string"},itemType:{short:"type",type:"string"},itemBrand:{short:"brand",type:"string"},itemCategory1:{short:"cat1",type:"string"},itemCategory2:{short:"cat2",type:"string"},itemCategory3:{short:"cat3",type:"string"},itemCategory4:{short:"cat4",type:"string"},itemCategory5:{short:"cat5",type:"string"},itemPrice:{short:"price",type:"number"},itemDiscount:{short:"disc",type:"number"},itemQuantity:{short:"qty",type:"number"},itemVariant:{short:"var",type:"string"},itemPosition:{short:"pos",type:"number"},itemProvider:{short:"prov",type:"string"},itemState:{short:"state",type:"string"},itemExtraInfo:{short:"exinfo",type:"object"}}},itemName:{short:"inm",type:"string"},itemListName:{short:"iln",type:"string"},conversionName:{short:"cn",type:"string"},conversionValue:{short:"cv",type:"number"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),u=n(2),a=(r=u)&&r.__esModule?r:{default:r},l=n(0);var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return o(e,null,[{key:"run",value:function(e){i.Util.isObject(e)?a.default.getInstance().setBaseParameters(e):l.CLog.error("[GlobalCommander#run] 不正な引数の指定")}}]),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=a(n(28)),u=a(n(29));function a(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"run",value:function(){var e=void 0,t=void 0,n=void 0;if(2===arguments.length&&o.Util.isString(arguments.length<=0?void 0:arguments[0]))e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1];else{if(1!==arguments.length)return void o.CLog.error("[SpaCommander#run] 不正な引数の指定");t=arguments.length<=0?void 0:arguments[0]}if(o.Util.isObject(t)&&o.Util.isString(t.method)){if("titleObserver"===t.method)n=new i.default(t);else{if("polling"!==t.method)return void o.CLog.error("[SpaCommander#run] 予期しないSPAメソッドの指定",t.method);n=new u.default(t)}n.start(e),o.Util.isArray(this.observers)||(this.observers=[]),this.observers.push(n),o.CLog.info("[SpaCommander#run] 自動PVモードを適用しました, target = ["+e+"]. method = "+t.method)}else o.CLog.error("[SpaCommander#run] SPAメソッドの指定がありません")}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var u=o.get;return void 0!==u?u.call(r):void 0},u=n(0),a=n(10);var l=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"start",value:function(e){if(this.addTarget(e),this.isStart)u.CLog.warning("[TitleObserver#start] already started.");else if("undefined"!=typeof document){var t=document.querySelector("title");if(null!==t){"undefined"!=typeof MutationObserver?(this.observer=new MutationObserver(this.fire.bind(this)),this.observer.observe(t,{childList:!0,characterData:!0,subtree:!0}),u.CLog.debug("[TitleObserver#start] use MutationObserver.")):(t.addEventListener("DOMSubtreeModified",this.fire.bind(this)),u.CLog.debug("[TitleObserver#start] use dom event listener.")),this.isStart=!0}else u.CLog.warning("[TitleObserver#start] title element not found.")}else u.CLog.warning("[TitleObserver#start] document object not found.")}},{key:"fire",value:function(){var e=this;u.CLog.debug("[TitleObserver#fire] run processing."),this.options.minElapsedTime>0?setTimeout((function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"fire",e).call(e)}),this.options.minElapsedTime):i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"fire",this).call(this)}}]),t}(((r=a)&&r.__esModule?r:{default:r}).default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),u=n(10);var a=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"start",value:function(e){this.addTarget(e),this.isStart||(this.isStart=!0,this.fire(),i.CLog.debug("[Polling#start] start success."))}},{key:"fire",value:function(){var e=this;i.CLog.debug("[Polling#fire] run processing."),function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var u=o.get;return void 0!==u?u.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"fire",this).call(this),this.isStart&&setTimeout((function(){e.fire()}),this.options.interval)}}]),t}(((r=u)&&r.__esModule?r:{default:r}).default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),a=n(1),l=(r=a)&&r.__esModule?r:{default:r},s=n(0);var f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,null,[{key:"run",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!u.Util.isString(e)||u.Util.isEmpty(e)?(s.CLog.error("[ConfigCommander#run] サブコマンドの型または値が不正",e,"type: "+(void 0===e?"undefined":o(e))),!1):u.Util.isFunction(this[e])?(this[e](t),!0):(s.CLog.error("[ConfigCommander#run] 未定義のサブコマンド",e),!1)}},{key:"accessToken",value:function(e){l.default.setAccessToken(e),s.CLog.info("[ConfigCommander#run] set access token.",e)}}]),e}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),u=n(1),a=(r=u)&&r.__esModule?r:{default:r};var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return o(e,null,[{key:"run",value:function(e){i.Util.isFunction(e)?e(a.default):i.CLog.error("[CoreLoggerCommander#run] 引数がfunctionではありません")}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0);var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"run",value:function(){for(var e={},t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];if(o.Util.isObject(n[0])?e=n[0]:n.length>=2&&o.Util.isString(n[0])&&(e[n[0]]=n[1]),o.Util.findKey(e,"log_level")){var i=e.log_level;"debug"===i||4===i?o.CLog.logLevel=4:"info"===i||3===i?o.CLog.logLevel=3:"warning"===i||2===i?o.CLog.logLevel=2:"critical"===i||1===i?o.CLog.logLevel=1:"none"!==i&&0!==i||(o.CLog.logLevel=0)}}}]),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),u=n(34),a=(r=u)&&r.__esModule?r:{default:r};var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return o(e,null,[{key:"run",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=this.filterArgs(t),o=r.target,u=r.subCommand,a=r.trackingKey;i.Util.isFunction(this[u])?this[u](a,o):i.CLog.error("[ItemCommander#run] 未定義のサブコマンド",u)}},{key:"trackSections",value:function(e,t){e&&Array.isArray(e)?e.forEach((function(e){if(i.Util.isString(e)){var n=document.getElementById(e);if(n){var r=new a.default(n);r.sendEventLog(r.itemData,t)}else i.CLog.info("[ItemCommander#trackSections] 指定された id の要素を発見できません",e)}else i.Util.isObject(e)?Object.keys(e).forEach((function(n){var r=document.getElementById(n);if(r){var o=new a.default(r,e[n]);o.sendEventLog(o.itemData,t)}else i.CLog.info("[ItemCommander#trackSections] 指定された id の要素を発見できません",n)})):i.CLog.error("[ItemCommander#trackSections] section が不正な値",e)})):i.CLog.error("[ItemCommander#trackSections] sections が不正な値",e)}},{key:"trackSectionsClass",value:function(e,t){e||(e="ya_item_track");var n=document.getElementsByClassName(e);n?Array.prototype.slice.call(n).forEach((function(e){var n=new a.default(e);n.sendEventLog(n.itemData,t)})):i.CLog.info("[ItemCommander#trackSections] 指定された class の要素を発見できません",e)}},{key:"filterArgs",value:function(e){var t={target:"",subCommand:"",trackingKey:""};return!e||0===e.length||3<e.length?(i.CLog.error("[ItemCommander#filterArgs] 不正な引数の指定"),t):1===e.length?i.Util.isString(e[0])?(t.subCommand=e[0],t):(i.CLog.error("[ItemCommander#filterArgs] 不正な引数の指定"),t):2===e.length?i.Util.isString(e[0])&&(i.Util.isString(e[1])||i.Util.isArray(e[1]))?(i.Util.isFunction(this[e[0]])?(t.subCommand=e[0],t.trackingKey=e[1]):(t.target=e[0],t.subCommand=e[1]),t):(i.CLog.error("[ItemCommander#filterArgs] 不正な引数の指定"),t):3===e.length?i.Util.isString(e[0])&&(i.Util.isString(e[1])||i.Util.isArray(e[1]))&&(i.Util.isString(e[2])||i.Util.isArray(e[2]))?(t.target=e[0],t.subCommand=e[1],t.trackingKey=e[2],t):(i.CLog.error("[ItemCommander#filterArgs] 不正な引数の指定"),t):t}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),a=n(5),l=(r=a)&&r.__esModule?r:{default:r};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var f=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(s(this,e),t&&"object"===(void 0===t?"undefined":o(t))&&t.nodeName){this.element=t;var r=this.extractItemData(t);u.Util.isObject(n)?this.itemData=u.Util.merge(r,n):(u.CLog.warning("[ItemSection#constructor] params が不正な値"),this.itemData=r)}else u.CLog.warning("[ItemSection#constructor] element が不正な値")}return i(e,[{key:"extractItemData",value:function(e){var t={};if(!e||"object"!==(void 0===e?"undefined":o(e))||!e.dataset||!e.dataset.yaItemSec)return u.CLog.warning("[ItemSection#extractItemData] セクションのデータ属性が未定義 または不正な値"),t;try{if(e.dataset.yaItemSec){var n=JSON.parse(e.dataset.yaItemSec);(t=u.Util.merge(t,n)).action="view_item_list",t.items=this.extractItemDetailsData(e)}}catch(e){u.CLog.error("[ItemSection#extractItemData] セクションのデータ属性が不正な値",e)}return t}},{key:"extractItemDetailsData",value:function(e){var t=[];return"object"!==(void 0===e?"undefined":o(e))||"function"!=typeof e.getElementsByTagName?(u.CLog.warning("[ItemSection#extractItemDetailsData] element が不正な値"),t):(["a","button","input"].forEach((function(n){var r=e.getElementsByTagName(n);Array.prototype.slice.call(r).forEach((function(e){if(e.dataset&&e.dataset.yaItemDetail)try{var n={};if(e.dataset.yaItemDetail){var r=JSON.parse(e.dataset.yaItemDetail);n=u.Util.merge(n,r)}t.push(n)}catch(e){u.CLog.error("[ItemSection#extractItemDetailsData] アイテムのデータ属性が不正な値",e)}else u.CLog.warning("[ItemSection#extractItemDetailsData] セクションのデータ属性が未定義")}))})),t)}},{key:"sendEventLog",value:function(e,t){u.Util.isObject(e)?l.default.run(t,"event",e):u.CLog.warning("[ItemSection#sendEventLog] 不正な引数（itemData）の指定",e)}}]),e}();t.default=f}]).default}));